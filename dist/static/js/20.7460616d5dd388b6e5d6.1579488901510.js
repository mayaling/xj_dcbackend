webpackJsonp([20],{CQ32:function(e,t){},"Kd+0":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={name:"addproject",data:function(){return{form:{name:"",num:"",price:"",balance_type:""},time:"",id:"",data:"",channeldata:"",tableData:"",rules:{name:[{required:!0,message:"不可为空！",trigger:"blur"}],price:[{required:!0,message:"不可为空！",trigger:"blur"}],balance_type:[{required:!0,message:"不可为空！",trigger:"blur"}],num:[{required:!0,message:"不可为空！",trigger:"blur"}]}}},created:function(){this.id=this.$route.query.id,this.form.name=this.$route.query.name,this.form.balance_type=this.$route.query.balance_type,this.form.price=this.$route.query.user_price,1===this.form.balance_type?this.form.balance_type="UV":2===this.form.balance_type?this.form.balance_type="CPA":this.form.balance_type="CPS",console.log(this.form.balance_type)},computed:{},methods:{getchanneldata:function(){var e=this;this.$get("channels").then(function(t){1===t.code&&(e.channeldata=t.info.items)}).catch(function(){})},onSubmit:function(e){var t=this;this.$message.error("请完善内容"),this.$refs[e].validate(function(e){if(!e)return!1;t.$post("product/deduct",{name:t.form.name,num:t.form.num,price:t.form.price,product_id:t.id}).then(function(e){console.log(e),1===e.code?(t.$message({message:e.message,type:"success"}),t.$router.push("/productlist")):e.info.name?t.$message.error(e.info.name[0]):t.$message.error(e.message)})})}}},n={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"table",attrs:{"element-loading-text":"加载中"}},[r("div",{staticClass:"container"},[r("div",{staticClass:"container-title"},[e._v("新增流量详情")]),e._v(" "),r("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"space-around"}},[r("el-col",{attrs:{span:6}},[r("el-form",{ref:"form",staticClass:"item-add-list",attrs:{model:e.form,rules:e.rules}},[r("el-form-item",{attrs:{label:"产品名称:",prop:"name"}},[r("el-input",{attrs:{type:"text",disabled:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name","string"==typeof t?t.trim():t)},expression:"form.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"用户单价:",prop:"price"}},[r("el-input",{attrs:{type:"text",disabled:""},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price","string"==typeof t?t.trim():t)},expression:"form.price"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"用户流量数:",prop:"num"}},[r("el-input",{attrs:{type:"text"},model:{value:e.form.num,callback:function(t){e.$set(e.form,"num","string"==typeof t?t.trim():t)},expression:"form.num"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"结算方式:",prop:"balance_type"}},[r("el-input",{attrs:{type:"text",disabled:""},model:{value:e.form.balance_type,callback:function(t){e.$set(e.form,"balance_type","string"==typeof t?t.trim():t)},expression:"form.balance_type"}})],1),e._v(" "),e.tableData?e._e():r("el-button",{staticStyle:{"margin-top":"40px"},attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("提交")]),e._v(" "),r("router-link",{attrs:{to:{path:"productlist"}}},[r("el-button",[e._v("取消")])],1)],1)],1),e._v(" "),r("el-col",{attrs:{span:6}}),e._v(" "),r("el-col",{attrs:{span:6}})],1)],1)])},staticRenderFns:[]};var s=r("C7Lr")(a,n,!1,function(e){r("CQ32")},"data-v-698df074",null);t.default=s.exports}});