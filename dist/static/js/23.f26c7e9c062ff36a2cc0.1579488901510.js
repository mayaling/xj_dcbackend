webpackJsonp([23],{"R69+":function(t,e){},xfz7:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("3cXf"),o=a.n(n),l=a("a3Yh"),i=a.n(l),s=a("urnN"),r=a.n(s);Vue.use(r.a);var c={name:"teacher",data:function(){var t;return t={platform:"",dialogTableVisible:!1,dialogFormVisible:!1,value1:"",perPage:3,value2:"",tableData:[],currentPage:1,totalCount:1,pageSizes:[3,5,10,20],PageSize:10,cur_page:1,pages:0,name:"",s_student:"",s_school:"",s_grade:"",s_klass:"",status:"",userurl:"b.sshua.com",region:"",region1:"",plusIcon:!0},i()(t,"value1",""),i()(t,"form",{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:"",boutique:"",banner:"",new:"",hot:""}),i()(t,"options",[{value:"boutique",label:"精品",key:"1"},{value:"banner",label:"小额现金贷",key:"2"},{value:"new",label:"最新口子",key:"3"},{value:"hot",label:"最热口子",key:"4"}]),i()(t,"pageSize",""),i()(t,"platformdata",""),t},created:function(){this.getlistdata(),this.getplatform()},computed:{},methods:{getlistdata:function(){var t=this;this.$get("products?status=1&sort=-id").then(function(e){console.log(e),1===e.code?(t.tableData=e.info.items,t.pages=e.info._meta.pageCount,console.log(t.pages)):t.$message.error("数据加载失败"),t.loading=!1}).catch(function(){t.loading=!1})},getplatform:function(){var t=this;this.$get("product/platform").then(function(e){console.log(e),1===e.code?t.platformdata=e.info:t.$message.error("数据加载失败"),t.loading=!1}).catch(function(){t.loading=!1})},open:function(){var t=this;this.$prompt("请输入充值金额","",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(t){t.value}).catch(function(){t.$message({type:"info",message:"取消输入"})})},handleCheck:function(t,e){var a=this;e.hot=!e.hot,0==e.hot?e.hot=0:e.hot=1,this.$put("products/"+e.id,{hot:e.hot}).then(function(t){a.loading=!1}).catch(function(){a.loading=!1})},handleStatus:function(t,e){var a=this;e.status=!e.status,0==e.status?e.status=0:e.status=1,this.$put("products/"+e.id,{status:e.status}).then(function(t){a.loading=!1,a.search1()}).catch(function(){a.loading=!1})},handlemaintainstatus:function(t,e){var a=this;e.maintain_status=!e.maintain_status,0==e.maintain_status?e.maintain_status=0:e.maintain_status=1,this.$put("products/"+e.id,{maintain_status:e.maintain_status}).then(function(t){a.loading=!1,a.search1()}).catch(function(){a.loading=!1})},handleNew:function(t,e){var a=this;e.new=!e.new,0==e.new?e.new=0:e.new=1,this.$put("products/"+e.id,{new:e.new}).then(function(t){a.loading=!1}).catch(function(){a.loading=!1})},handleCurrentChange:function(t){var e=this;this.loading=!0,this.$get("products?sort=-id&status=1",{page:t,status:this.status?this.status:"",name:this.name?this.name:"",platform:this.platform?this.platform:""}).then(function(t){console.log(t),1===t.code?(e.tableData=JSON.parse(o()(t.info.items)),e.pages=t.info._meta.pageCount):e.$message.error("数据加载失败"),e.loading=!1}).catch(function(){e.loading=!1})},search:function(){var t=this;console.log(this.value1);var e=[];for(var a in this.value1)console.log(this.value1[a]),e.push(this.value1[a]);console.log(e),this.loading=!0,this.form.boutique=e.indexOf("boutique"),this.form.banner=e.indexOf("banner"),this.form.new=e.indexOf("new"),this.form.hot=e.indexOf("hot"),this.$get("products?sort=-id",{status:this.status?this.status:"",name:this.name?this.name:"",platform:this.platform?this.platform:"",boutique:-1===this.form.boutique?null:1,banner:-1===this.form.banner?null:1,hot:-1===this.form.hot?null:1,new:-1===this.form.new?null:1}).then(function(e){1===e.code?(t.tableData=JSON.parse(o()(e.info.items)),t.pages=e.info._meta.pageCount):t.$message.error("数据加载失败"),t.loading=!1}).catch(function(){t.loading=!1})},search1:function(){var t=this;this.loading=!0,this.$get("products?sort=-id",{status:this.status?this.status:"1",name:this.name?this.name:"",platform:this.platform?this.platform:""}).then(function(e){1===e.code?(t.tableData=JSON.parse(o()(e.info.items)),t.pages=e.info._meta.pageCount):t.$message.error("数据加载失败"),t.loading=!1}).catch(function(){t.loading=!1})},onCopy:function(t){this.$message({message:"复制链接成功",type:"success"})},onError:function(t){console.log(t)},handleEdit:function(t,e){var a=this;console.log(t),this.$del("products/"+t.row.id).then(function(t){console.log(t),1===t.code?(a.$message({message:"删除成功",type:"success"}),a.loading=!0,a.getlistdata(),console.log(a.tableData)):a.$message.error("数据加载失败"),a.loading=!1}).catch(function(){a.loading=!1})}}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"table",attrs:{"element-loading-text":"加载中"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"container-title"},[t._v("产品列表")]),t._v(" "),a("div",{staticClass:"mgb20"},[a("router-link",{attrs:{to:{path:"addproduct"}}},[a("el-button",{attrs:{type:"primary"}},[t._v("+新增产品")])],1),t._v(" "),a("span",[t._v("  商家登录后台地址：\n                                    "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"点击复制",placement:"top"}},[a("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.userurl,expression:"userurl",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticStyle:{color:"#3c8dbc",cursor:"pointer"}},[t._v("b.sshua.com")])])],1),t._v(" "),a("el-row",{staticStyle:{float:"right"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[[a("el-select",{attrs:{multiple:"",placeholder:"请选择模块",size:"medium"},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}},t._l(t.options,function(t){return a("el-option",{key:t.key,attrs:{label:t.label,value:t.value}})}),1)]],2),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{placeholder:"请选择平台",clearable:"true"},on:{change:function(e){return t.search1()}},model:{value:t.platform,callback:function(e){t.platform=e},expression:"platform"}},[t._l(t.platformdata,function(t){return[a("el-option",{attrs:{label:t.name,value:t.id}})]})],2)],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{placeholder:"请选择状态",clearable:"true"},on:{change:function(e){return t.search1()}},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[a("el-option",{attrs:{label:"已下架",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"已上架",value:"1"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{attrs:{placeholder:"请输入产品名称",clearable:"true"},on:{change:function(e){return t.search1()}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.name,callback:function(e){t.name="string"==typeof e?e.trim():e},expression:"name"}})],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){return t.search()}}},[t._v("搜索")])],1)],1)],1),t._v(" "),a("el-table",{ref:"multipleTable",attrs:{data:t.tableData,border:"",size:"medium",stripe:""}},[a("el-table-column",{attrs:{prop:"id",label:"ID",align:"center",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"image",label:"图片",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticClass:"head_pic",attrs:{src:t.row.image,width:"40",height:"40"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"rate",label:"日利率",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"apply_num",label:"申请人数",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"hidden_url",label:"链接地址",align:"center","show-overflow-tooltip":!0},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.row.hidden_url,expression:"scope.row.hidden_url",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}]},[t._v(t._s(e.row.hidden_url))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"new",label:"最新口子",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{width:"40px",height:"40px"},on:{click:function(a){return t.handleNew(e.$index,e.row)}}},[e.row.new?a("i",{staticClass:"el-icon-check"}):t._e(),t._v(" "),e.row.new?t._e():a("i",{staticClass:"el-icon-close"})])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"hot",label:"热门口子",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{width:"40px",height:"40px"},on:{click:function(a){return t.handleCheck(e.$index,e.row)}}},[e.row.hot?a("i",{staticClass:"el-icon-check"}):t._e(),t._v(" "),e.row.hot?t._e():a("i",{staticClass:"el-icon-close"})])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{width:"40px",height:"40px"},on:{click:function(a){return t.handleStatus(e.$index,e.row)}}},[e.row.status?a("i",{staticClass:"el-icon-check"}):t._e(),t._v(" "),e.row.status?t._e():a("i",{staticClass:"el-icon-close"})])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"maintain_status",label:"是否维护",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{width:"40px",height:"40px"},on:{click:function(a){return t.handlemaintainstatus(e.$index,e.row)}}},[e.row.maintain_status?a("i",{staticClass:"el-icon-check"}):t._e(),t._v(" "),e.row.maintain_status?t._e():a("i",{staticClass:"el-icon-close"})])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"money",label:"余额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"admin_name",label:"商户名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"platform_name",label:"系统平台",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"130px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{attrs:{to:{path:"addproduct",query:{id:e.row.id}}}},[a("el-button",{attrs:{size:"mini"}},[t._v("\n                                   编辑\n                                ")])],1),t._v(" "),a("router-link",{attrs:{to:{path:"dailystatistics",query:{row:e.row}}}},[a("el-button",{staticStyle:{"margin-top":"10px"},attrs:{size:"mini"}},[t._v("\n                                       数据\n                                    ")])],1),t._v(" "),a("el-button",{staticStyle:{"margin-top":"10px"},attrs:{size:"mini"},on:{click:t.open}},[t._v("充值")]),t._v(" "),a("router-link",{attrs:{to:{path:"adddproductadddeduct",query:{id:e.row.id,name:e.row.name,balance_type:e.row.balance_type,user_price:e.row.user_price}}}},[a("el-button",{staticStyle:{"margin-top":"10px"},attrs:{size:"mini"}},[t._v("\n                                           新增流量详情\n                                        ")])],1),t._v(" "),a("router-link",{attrs:{to:{path:"undercarriage",query:{id:e.row.id,quantity_off_start_time:e.row.quantity_off_start_time,quantity_off_num:e.row.quantity_off_num}}}},[a("el-button",{staticStyle:{"margin-top":"10px"},attrs:{size:"mini"}},[t._v("\n                                       定量下架\n                                    ")])],1),t._v(" "),a("el-dialog",{attrs:{title:"流量记录",visible:t.dialogTableVisible},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[a("el-table",{ref:"multipleTable",attrs:{data:t.tableData,border:"",size:"medium"}},[a("el-table-column",{attrs:{prop:"id",label:"编号",align:"center",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"产品id",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"次数",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"register_time",label:"用户单价",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"创建时间",align:"center"}})],1)],1),t._v(" "),a("el-button",{staticStyle:{"margin-top":"10px"},attrs:{size:"mini"},on:{click:function(a){return t.handleEdit(e,t.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{layout:"prev, pager, next","page-count":t.pages},on:{"current-change":t.handleCurrentChange}})],1)],1)])},staticRenderFns:[]};var p=a("C7Lr")(c,u,!1,function(t){a("R69+")},"data-v-5b2c3c77",null);e.default=p.exports}});