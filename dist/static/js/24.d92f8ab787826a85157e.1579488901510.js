webpackJsonp([24],{"9onT":function(t,a){},g74S:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("3cXf"),o=e.n(n),r={name:"teacher",data:function(){return{searchshow:!0,searchshow1:!0,loading:!0,tableData:{},cur_page:1,pages:0,end_time:"",start_time:"",tableData1:"",form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},rowList:[],spanArr:[],spanArr1:[],position:0,tableData6:[],tableData7:[],time:""}},created:function(){this.loading=!0,this.getlistdata()},mounted:function(){},watch:{},computed:{},methods:{getlistdata:function(){var t=this;this.$get("channel-analysis/day-list?sort=-id").then(function(a){1===a.code?(t.tableData6=a.info.sorted_list,t.rowspan(t.tableData6),t.pages=a.info._meta.pageCount):t.$message.error("数据加载失败"),t.loading=!1}).catch(function(){t.loading=!1})},rowspan:function(){var t=this;this.spanArr=[],this.tableData6.forEach(function(a,e){0===e?(t.spanArr.push(1),t.position=0):t.tableData6[e].channel_name===t.tableData6[e-1].channel_name?(t.spanArr[t.position]+=1,t.spanArr.push(0)):(t.spanArr.push(1),t.position=e)})},rowspan1:function(){var t=this;this.spanArr1=[],this.tableData7.forEach(function(a,e){0===e?(t.spanArr1.push(1),t.position=0):t.tableData7[e].channel_name===t.tableData7[e-1].channel_name?(t.spanArr1[t.position]+=1,t.spanArr1.push(0)):(t.spanArr1.push(1),t.position=e)})},objectSpanMethod:function(t){t.row,t.column;var a=t.rowIndex;if(0===t.columnIndex){var e=this.spanArr[a];return{rowspan:e,colspan:e>0?1:0}}},objectSpanMethod1:function(t){var a=t.row,e=(t.column,t.rowIndex),n=t.columnIndex;if(console.log(a),0===n){var o=this.spanArr1[e];return{rowspan:o,colspan:o>0?1:0}}},download:function(){var t=this;this.$get("channel-analysis/get-data-ago").then(function(a){t.loading=!1}).catch(function(){t.loading=!1})},open:function(){var t=this;this.$prompt("请输入充值金额","",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(t){t.value}).catch(function(){t.$message({type:"info",message:"取消输入"})})},handleCurrentChange:function(t){var a=this;this.loading=!0,this.$get("channel-analysis/day-list?sort=-id",{page:t}).then(function(t){0===t.code?(a.tableData=JSON.parse(o()(t.list)),a.pages=t.info._meta.pageCount):a.$message.error("数据加载失败"),a.loading=!1}).catch(function(){a.loading=!1})},search:function(){var t=this;this.tableData6=[],this.loading=!0,this.$get("channel-analysis/day-list?sort=-id",{start_time:this.time?this.time[0]:"",end_time:this.time?this.time[1]:""}).then(function(a){1===a.code?(t.tableData6=a.info.sorted_list,t.rowspan(t.tableData6)):t.$message.error("数据加载失败"),t.loading=!1}).catch(function(){t.loading=!1})}}},l={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"table",attrs:{"element-loading-text":"加载中"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"container-title"},[t._v("渠道每日统计")]),t._v(" "),e("div",{staticClass:"mgb20"},[e("router-link",{attrs:{to:{path:"dailycanalstatistics"}}},[e("el-button",{attrs:{type:"primary"}},[t._v("查看今日实时")])],1),t._v(" "),e("router-link",{attrs:{to:{path:"channeldaylog"}}},[e("el-button",{attrs:{type:"primary"}},[t._v("查看过往数据")])],1),t._v(" "),e("a",{attrs:{href:"http://api-backend.loan.xykj1.com/channel-analysis/get-data-ago?start_time="+t.time[0]+"&end_time="+t.time[1],target:"_blank"}},[e("el-button",{attrs:{type:"primary",icon:"el-icon-download"}},[t._v("下载")])],1),t._v(" "),e("el-button",{staticStyle:{float:"right","margin-left":"20px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(a){return t.search()}}},[t._v("搜索")]),t._v(" "),e("el-date-picker",{staticStyle:{float:"right"},attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},on:{change:function(a){return t.search()}},model:{value:t.time,callback:function(a){t.time=a},expression:"time"}})],1),t._v(" "),t.searchshow1?e("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{stripe:"",data:t.tableData6,"span-method":t.objectSpanMethod,border:"",height:"800"}},[e("el-table-column",{attrs:{prop:"channel_name",label:"渠道姓名"}}),t._v(" "),e("el-table-column",{attrs:{prop:"date",label:"统计日期"}}),t._v(" "),e("el-table-column",{attrs:{prop:"uv",label:"推广页uv"}}),t._v(" "),e("el-table-column",{attrs:{prop:"reg",label:"渠道注册"}}),t._v(" "),e("el-table-column",{attrs:{prop:"active",label:"渠道激活"}}),t._v(" "),e("el-table-column",{attrs:{prop:"p_pv",label:"产品pv（新客）"}}),t._v(" "),e("el-table-column",{attrs:{prop:"p_uv",label:"产品uv（新客）"}}),t._v(" "),e("el-table-column",{attrs:{prop:"p_old_pv",label:"产品pv（老客）"}}),t._v(" "),e("el-table-column",{attrs:{prop:"p_old_uv",label:"产品uv（老客）"}}),t._v(" "),e("el-table-column",{attrs:{prop:"total_uv",label:"总uv"}}),t._v(" "),e("el-table-column",{attrs:{prop:"reg_uv_pre",label:"注册转化率"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(a.row.reg_uv_pre)+"%")])]}}],null,!1,2547008284)}),t._v(" "),e("el-table-column",{attrs:{prop:"active_uv_pre",label:"激活转化率"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(a.row.active_uv_pre)+"%")])]}}],null,!1,934094944)}),t._v(" "),e("el-table-column",{attrs:{prop:"p_uv_uv_pre",label:"新客转化率"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(a.row.p_uv_uv_pre)+"%")])]}}],null,!1,2015356224)}),t._v(" "),e("el-table-column",{attrs:{prop:"total_uv_pre",label:"总uv效率"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(a.row.total_uv_pre)+"%")])]}}],null,!1,2345095918)})],1):t._e(),t._v(" "),e("div",{staticClass:"pagination"},[e("el-pagination",{attrs:{layout:"prev, pager, next","page-count":t.pages},on:{"current-change":t.handleCurrentChange}})],1)],1)])},staticRenderFns:[]};var s=e("C7Lr")(r,l,!1,function(t){e("9onT")},"data-v-55bd5f0b",null);a.default=s.exports}});