webpackJsonp([39],{"9xj3":function(t,a){},vvNe:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("a3Yh"),o=e.n(n),r=e("3cXf"),s=e.n(r),l={name:"teacher",data:function(){return{tableData:{},cur_page:1,pages:0,form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},rowList:[],spanArr:[],position:0,tableData6:[]}},created:function(){this.getlistdata()},mounted:function(){var t=this;setTimeout(function(){var a=[],e=t.tableData;for(var n in e)if("info"===n)for(var o in e[n])for(var r in e[n][o])if("list"===r)for(var s=0;s<e[n][o][r].length;s++)a.push(e[n][o][r][s]);t.tableData6=a,t.rowspan()},500)},computed:{},methods:o()({getlistdata:function(){var t=this;this.$get("channel-analysis/day-list??sort=-id").then(function(a){1===a.code?t.tableData=a:t.$message.error("数据加载失败"),t.loading=!1}).catch(function(){t.loading=!1})},rowspan:function(){var t=this;this.tableData6.forEach(function(a,e){0===e?(t.spanArr.push(1),t.position=0):t.tableData6[e].channel_name===t.tableData6[e-1].channel_name?(t.spanArr[t.position]+=1,t.spanArr.push(0)):(t.spanArr.push(1),t.position=e)})},objectSpanMethod:function(t){t.row,t.column;var a=t.rowIndex;if(0===t.columnIndex){var e=this.spanArr[a],n=e>0?1:0;return console.log(e,n),{rowspan:e,colspan:n}}},open:function(){var t=this;this.$prompt("请输入充值金额","",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(t){t.value}).catch(function(){t.$message({type:"info",message:"取消输入"})})},handleCheck:function(t,a){var e=this;a.hot=!a.hot,0==a.hot?a.hot=0:a.hot=1,this.$put("products/"+a.id,{hot:a.hot}).then(function(t){e.loading=!1}).catch(function(){e.loading=!1})},handleStatus:function(t,a){var e=this;a.status=!a.status,0==a.status?a.status=0:a.status=1,this.$put("products/"+a.id,{status:a.status}).then(function(t){e.loading=!1}).catch(function(){e.loading=!1})},handleCurrentChange:function(t){var a=this;this.loading=!0,this.$get("students",{pageNum:t,studentName:this.s_student}).then(function(t){if(0===t.code){a.tableData=JSON.parse(s()(t.list)),a.pages=t.pages;for(var e=0;e<a.tableData.length;e++)a.tableData[e].sex?a.tableData[e].sex="女":a.tableData[e].sex="男"}else a.$message.error("学生加载失败");a.loading=!1}).catch(function(){a.loading=!1})},search:function(){var t=this;this.loading=!0,this.$get("products",{status:this.status?this.status:"",name:this.name?this.name:""}).then(function(a){1===a.code?t.tableData=JSON.parse(s()(a.info.items)):t.$message.error("数据加载失败"),t.loading=!1}).catch(function(){t.loading=!1})}},"objectSpanMethod",function(t){t.row,t.column;var a=t.rowIndex;if(0===t.columnIndex)return a%2==0?{rowspan:2,colspan:1}:{rowspan:0,colspan:0}})},i={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"table",attrs:{"element-loading-text":"加载中"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"container-title"},[t._v("渠道每日统计")]),t._v(" "),e("div",{staticClass:"mgb20"},[e("router-link",{attrs:{to:{path:"channeldaylog"}}},[e("el-button",{attrs:{type:"primary"}},[t._v("查看今日实时")])],1),t._v(" "),e("router-link",{attrs:{to:{path:"channelhistory"}}},[e("el-button",{attrs:{type:"primary"}},[t._v("查看过往数据")])],1),t._v(" "),e("el-button",{staticStyle:{float:"right","margin-left":"20px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(a){return t.search()}}},[t._v("搜索")]),t._v(" "),e("el-date-picker",{staticStyle:{float:"right"},attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},on:{change:t.search},model:{value:t.time,callback:function(a){t.time=a},expression:"time"}})],1),t._v(" "),e("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{stripe:"",data:t.tableData6,"span-method":t.objectSpanMethod,border:""}},[e("el-table-column",{attrs:{prop:"channel_name",label:"渠道姓名",width:"180"}}),t._v(" "),e("el-table-column",{attrs:{prop:"date",label:"统计日期"}}),t._v(" "),e("el-table-column",{attrs:{prop:"uv",label:"推广页uv"}}),t._v(" "),e("el-table-column",{attrs:{prop:"reg",label:"渠道注册"}}),t._v(" "),e("el-table-column",{attrs:{prop:"active",label:"渠道激活"}}),t._v(" "),e("el-table-column",{attrs:{prop:"p_pv",label:"产品pv（新客）"}}),t._v(" "),e("el-table-column",{attrs:{prop:"p_uv",label:"产品uv（新客）"}}),t._v(" "),e("el-table-column",{attrs:{prop:"p_old_pv",label:"产品pv（老客）"}}),t._v(" "),e("el-table-column",{attrs:{prop:"p_old_uv",label:"产品uv（老客）"}}),t._v(" "),e("el-table-column",{attrs:{prop:"reg_uv_pre",label:"产品累计点击"}}),t._v(" "),e("el-table-column",{attrs:{prop:"active_uv_pre",label:"平均每日"}}),t._v(" "),e("el-table-column",{attrs:{prop:"p_uv_uv_pre",label:"平均每周"}})],1),t._v(" "),e("div",{staticClass:"pagination"},[e("el-pagination",{attrs:{layout:"prev, pager, next","page-count":t.pages},on:{"current-change":t.handleCurrentChange}})],1)],1)])},staticRenderFns:[]};var c=e("C7Lr")(l,i,!1,function(t){e("9xj3")},"data-v-2d2adc12",null);a.default=c.exports}});